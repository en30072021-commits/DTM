<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–º–µ—Ç–∞ –º–æ–¥—É–ª—å–Ω—ã—Ö –∑–¥–∞–Ω–∏–π ‚Äî –û–û–û –î–¢–ú</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <header class="header">
            <h1>–°–º–µ—Ç–∞ –º–æ–¥—É–ª—å–Ω—ã—Ö –∑–¥–∞–Ω–∏–π</h1>
            <div class="menu-bar">
                <button id="settingsBtn" class="menu-btn">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
        </header>

        <div class="main-container">
            <nav class="nav-panel" id="navPanel">
                <h2>–ù–ê–í–ò–ì–ê–¶–ò–Ø</h2>
                <ul id="navList">
                    <li><button class="nav-btn active" data-step="0">1. –ú–æ–¥—É–ª–∏</button></li>
                    <li><button class="nav-btn" data-step="1">2. –≠–ª–µ–∫—Ç—Ä–∏–∫–∞</button></li>
                    <li><button class="nav-btn" data-step="2">3. –û–∫–Ω–∞ –∏ –¥–≤–µ—Ä–∏</button></li>
                    <li><button class="nav-btn" data-step="3">4. –°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞</button></li>
                    <li><button class="nav-btn" data-step="4">5. –û—Ç–¥–µ–ª–∫–∞ –∏ –º–µ–±–µ–ª—å</button></li>
                    <li><button class="nav-btn" data-step="5">6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</button></li>
                    <li><button class="nav-btn" data-step="6">7. –°–º–µ—Ç–∞</button></li>
                </ul>
            </nav>

            <main class="content-area">
                <div class="step-container" id="stepContainer">
                    <!-- Step 1: Modules -->
                    <div class="step active" id="step0">
                        <h2>1. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥—É–ª–∏</h2>
                        <div class="modules-grid" id="modulesGrid">
                            <div class="module-card" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 6000x2440">
                                <h3>–¢—Ä–∞–Ω—Å–ø–∞–∫ 6000√ó2440</h3>
                                <p>14.64 –º¬≤ ‚Ä¢ 16.88 –º</p>
                                <div class="quantity-control">
                                    <button class="btn-minus" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 6000x2440">‚àí</button>
                                    <input type="number" class="quantity-input" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 6000x2440" min="0" max="50" value="0">
                                    <button class="btn-plus" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 6000x2440">+</button>
                                    <span class="cost-label" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 6000x2440">0 ‚ÇΩ</span>
                                </div>
                            </div>
                            <div class="module-card" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 4880x2440">
                                <h3>–¢—Ä–∞–Ω—Å–ø–∞–∫ 4880√ó2440</h3>
                                <p>11.91 –º¬≤ ‚Ä¢ 14.64 –º</p>
                                <div class="quantity-control">
                                    <button class="btn-minus" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 4880x2440">‚àí</button>
                                    <input type="number" class="quantity-input" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 4880x2440" min="0" max="50" value="0">
                                    <button class="btn-plus" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 4880x2440">+</button>
                                    <span class="cost-label" data-module="–¢—Ä–∞–Ω—Å–ø–∞–∫ 4880x2440">0 ‚ÇΩ</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="add-module-section">
                            <button id="addModuleBtn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å</button>
                        </div>

                        <div class="navigation-buttons">
                            <button class="nav-btn-secondary" id="back0" disabled>‚Üê –ù–∞–∑–∞–¥</button>
                            <button class="nav-btn-primary" id="next0">–î–∞–ª–µ–µ ‚Üí</button>
                        </div>
                    </div>

                    <!-- Steps 2-6: Dynamic Categories -->
                    <div class="step" id="step1">
                        <h2>2. –≠–ª–µ–∫—Ç—Ä–∏–∫–∞</h2>
                        <div class="categories-container" id="step1-content"></div>
                        <div class="navigation-buttons">
                            <button class="nav-btn-secondary" id="back1">‚Üê –ù–∞–∑–∞–¥</button>
                            <button class="nav-btn-primary" id="next1">–î–∞–ª–µ–µ ‚Üí</button>
                        </div>
                    </div>
                    <div class="step" id="step2">
                        <h2>3. –û–∫–Ω–∞ –∏ –¥–≤–µ—Ä–∏</h2>
                        <div class="categories-container" id="step2-content"></div>
                        <div class="navigation-buttons">
                            <button class="nav-btn-secondary" id="back2">‚Üê –ù–∞–∑–∞–¥</button>
                            <button class="nav-btn-primary" id="next2">–î–∞–ª–µ–µ ‚Üí</button>
                        </div>
                    </div>
                    <div class="step" id="step3">
                        <h2>4. –°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞</h2>
                        <div class="categories-container" id="step3-content"></div>
                        <div class="navigation-buttons">
                            <button class="nav-btn-secondary" id="back3">‚Üê –ù–∞–∑–∞–¥</button>
                            <button class="nav-btn-primary" id="next3">–î–∞–ª–µ–µ ‚Üí</button>
                        </div>
                    </div>
                    <div class="step" id="step4">
                        <h2>5. –û—Ç–¥–µ–ª–∫–∞ –∏ –º–µ–±–µ–ª—å</h2>
                        <div class="categories-container" id="step4-content"></div>
                        <div class="navigation-buttons">
                            <button class="nav-btn-secondary" id="back4">‚Üê –ù–∞–∑–∞–¥</button>
                            <button class="nav-btn-primary" id="next4">–î–∞–ª–µ–µ ‚Üí</button>
                        </div>
                    </div>
                    <div class="step" id="step5">
                        <h2>6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h2>
                        <div class="categories-container" id="step5-content"></div>
                        <div class="navigation-buttons">
                            <button class="nav-btn-secondary" id="back5">‚Üê –ù–∞–∑–∞–¥</button>
                            <button class="nav-btn-primary" id="next5">–î–∞–ª–µ–µ ‚Üí</button>
                        </div>
                    </div>

                    <!-- Step 7: Report -->
                    <div class="step" id="step6">
                        <h2>7. –°–º–µ—Ç–∞</h2>
                        <div class="report-tabs">
                            <div class="tab-buttons">
                                <button class="tab-btn active" data-tab="detailed">–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–º–µ—Ç–∞</button>
                                <button class="tab-btn" data-tab="summary">–ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞</button>
                            </div>
                            <div class="tab-content active" id="detailedTab">
                                <div class="report-content" id="detailedReport"></div>
                            </div>
                            <div class="tab-content" id="summaryTab">
                                <div class="report-content" id="summaryReport"></div>
                            </div>
                        </div>
                        <div class="navigation-buttons">
                            <button class="nav-btn-secondary" id="back6">‚Üê –ù–∞–∑–∞–¥</button>
                            <button class="nav-btn-primary" id="exportBtn">üíæ –≠–∫—Å–ø–æ—Ä—Ç –≤ HTML</button>
                        </div>
                    </div>
                </div>
            </main>

            <aside class="summary-panel" id="summaryPanel">
                <h2>–¢–ï–ö–£–©–ò–ô –ü–†–û–ï–ö–¢</h2>
                <div class="summary-content" id="summaryContent">
                    <p><i>–ù–∏—á–µ–≥–æ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ</i></p>
                </div>
            </aside>
        </div>

        <!-- Settings Modal -->
        <div class="modal" id="settingsModal">
            <div class="modal-content">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                <div class="settings-section">
                    <label>
                        <input type="checkbox" id="useVatCheckbox"> –í–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—á—ë—Ç –ù–î–°
                    </label>
                    <label>
                        –°—Ç–∞–≤–∫–∞ –ù–î–°: <input type="number" id="vatRateInput" min="0" max="100" step="0.01" value="20.00"> %
                    </label>
                </div>
                <div class="settings-section">
                    <button id="openCatalogBtn">–ö–∞—Ç–∞–ª–æ–≥ –ø–æ–∑–∏—Ü–∏–π</button>
                </div>
                <div class="modal-actions">
                    <button id="saveSettingsBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="closeSettingsBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- Catalog Editor Modal -->
        <div class="modal" id="catalogModal">
            <div class="modal-content large">
                <h3>–ö–∞—Ç–∞–ª–æ–≥ –ø–æ–∑–∏—Ü–∏–π</h3>
                <div class="catalog-controls">
                    <button id="addCatalogItemBtn">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
                    <button id="removeCatalogItemBtn">üóë –£–¥–∞–ª–∏—Ç—å</button>
                    <button id="refreshCatalogBtn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                </div>
                <div class="catalog-tree" id="catalogTree"></div>
                <div class="modal-actions">
                    <button id="closeCatalogBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- Add/Edit Item Modal -->
        <div class="modal" id="addItemModal">
            <div class="modal-content">
                <h3 id="addItemTitle">–ù–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è</h3>
                <div class="form-group">
                    <label for="itemCategorySelect">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                    <select id="itemCategorySelect"></select>
                </div>
                <div class="form-group">
                    <label for="itemNameInput">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:</label>
                    <input type="text" id="itemNameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ">
                </div>
                <div class="form-group">
                    <label for="itemUnitInput">–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è:</label>
                    <input type="text" id="itemUnitInput" placeholder="—à—Ç, –º, –º¬≤ –∏ —Ç.–¥.">
                </div>
                <div class="form-group">
                    <label for="itemPriceInput">–¶–µ–Ω–∞ (—Ä—É–±):</label>
                    <input type="number" id="itemPriceInput" min="0" step="0.01" placeholder="0.00">
                </div>
                <div class="modal-actions">
                    <button id="saveItemBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="cancelItemBtn">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <!-- Add Module Modal -->
        <div class="modal" id="addModuleModal">
            <div class="modal-content">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å</h3>
                <div class="form-group">
                    <label for="moduleNameInput">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:</label>
                    <input type="text" id="moduleNameInput" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢—Ä–∞–Ω—Å–ø–∞–∫ 3000x2440">
                </div>
                <div class="form-group">
                    <label for="moduleAreaInput">–ü–ª–æ—â–∞–¥—å (–º¬≤):</label>
                    <input type="number" id="moduleAreaInput" min="0" step="0.01" placeholder="11.91">
                </div>
                <div class="form-group">
                    <label for="modulePerimeterInput">–ü–µ—Ä–∏–º–µ—Ç—Ä (–º):</label>
                    <input type="number" id="modulePerimeterInput" min="0" step="0.01" placeholder="14.64">
                </div>
                <div class="modal-actions">
                    <button id="saveModuleBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="cancelModuleBtn">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>